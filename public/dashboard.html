<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard - Crane Error Finder</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family:'Poppins',sans-serif; background:#f5f7fa; margin:0; }
.header { display:flex; justify-content:space-between; align-items:center; padding:1rem 2rem; background:#4361ee; color:#fff; }
.header h2 { margin:0; }
.container { max-width:900px; margin:2rem auto; padding:1rem; }
.card { background:#fff; border-radius:1rem; padding:1.5rem; margin-bottom:1.5rem; box-shadow:0 5px 15px rgba(0,0,0,0.05); }
.card h3 { color:#4361ee; margin-bottom:0.5rem; }
.card p { margin-bottom:0.5rem; }
.btn { padding:10px 20px; border:none; border-radius:50px; background:#38bdf8; color:#000; cursor:pointer; font-weight:600; }
.btn:hover{ background:#0ea5e9; }
.back { display:inline-block; margin-top:1rem; color:#4361ee; cursor:pointer; text-decoration:underline; }
</style>
</head>
<body>
<div class="header">
  <h2>Crane Dashboard</h2>
  <button onclick="window.location.href='entry-mode.html'" class="btn">Change Entry</button>
</div>

<div class="container" id="dashboardContainer">
  <!-- Dynamic Crane info will appear here -->
</div>

<script>
const craneData = [
  { code:"CRN-2023-001", title:"Hydraulic Pressure Low", description:"Hydraulic pressure below operational threshold", steps:["Check fluid level","Inspect for leaks"] },
  { code:"CRN-2023-002", title:"Boom Sensor Error", description:"Boom angle sensor inconsistent readings", steps:["Inspect sensor connections"] }
];

const code = localStorage.getItem('lastCraneCode');
const container = document.getElementById('dashboardContainer');

const crane = craneData.find(c=>c.code===code);
if(!crane){
  container.innerHTML = `<p style="color:red;">‚ùå No crane data found. Please go back and select again.</p>`;
}else{
  container.innerHTML = `
    <div class="card">
      <h3>${crane.title} (${crane.code})</h3>
      <p>${crane.description}</p>
      <p><b>Steps:</b></p>
      <ul>${crane.steps.map(s=>`<li>${s}</li>`).join('')}</ul>
      <button class="btn" onclick="window.location.href='reports.html'">View Reports</button>
    </div>
  `;
}
</script>
</body>
</html>
